<!DOCTYPE html>  
<html lang="en">  
<head>  
  <meta charset="UTF-8" />  
  <title>Operator Lookup</title>  
  <meta name="viewport" content="width=device-width, initial-scale=1" />  
  <style>  
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');  
    * { box-sizing: border-box; }  

    body {  
      margin: 0;  
      padding: 0;  
      height: 100vh;  
      background: linear-gradient(135deg, #7f00ff, #e100ff);  
      font-family: 'Poppins', sans-serif;  
      display: flex;  
      justify-content: center;  
      align-items: center;  
      overflow: hidden;  
      -webkit-font-smoothing: antialiased;  
      -moz-osx-font-smoothing: grayscale;  
    }  

    body::before {  
      content: '';  
      position: fixed;  
      top: -100px;  
      left: -100px;  
      width: 300px;  
      height: 300px;  
      background: rgba(255, 255, 255, 0.15);  
      border-radius: 50%;  
      filter: blur(80px);  
      animation: float1 10s ease-in-out infinite;  
      z-index: 0;  
    }  
    body::after {  
      content: '';  
      position: fixed;  
      bottom: -150px;  
      right: -150px;  
      width: 400px;  
      height: 400px;  
      background: rgba(255, 255, 255, 0.1);  
      border-radius: 50%;  
      filter: blur(100px);  
      animation: float2 15s ease-in-out infinite;  
      z-index: 0;  
    }  

    @keyframes float1 {  
      0%, 100% { transform: translateY(0) translateX(0); }  
      50% { transform: translateY(20px) translateX(30px); }  
    }  
    @keyframes float2 {  
      0%, 100% { transform: translateY(0) translateX(0); }  
      50% { transform: translateY(-25px) translateX(-25px); }  
    }  

    .card {  
      position: relative;  
      background: rgba(255, 255, 255, 0.15);  
      backdrop-filter: blur(15px);  
      border-radius: 24px;  
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);  
      width: 95%;  
      max-width: 420px;  
      padding: 30px 30px 40px;  
      color: #fff;  
      z-index: 1;  
      text-align: center;  
      border: 1px solid rgba(255, 255, 255, 0.3);  
      transition: box-shadow 0.3s ease, transform 0.3s ease;  
      cursor: default;  
      user-select: none;  
    }  

    .card:hover {  
      box-shadow: 0 0 70px #e100ff, 0 0 30px #7f00ff;  
      transform: scale(1.03);  
    }  

    h2 {  
      margin-bottom: 25px;  
      font-weight: 700;  
      font-size: 2.4rem;  
      letter-spacing: 2px;  
      text-shadow: 0 0 15px #e100ff;  
      user-select: none;  
    }  

    input {  
      width: 100%;  
      padding: 14px 18px;  
      font-size: 16px;  
      border: none;  
      border-radius: 12px;  
      outline: none;  
      margin-bottom: 8px;  
      font-weight: 500;  
      transition: box-shadow 0.3s ease, background 0.3s ease;  
      box-shadow: inset 0 0 6px rgba(255,255,255,0.2);  
      background: rgba(255,255,255,0.1);  
      color: #fff;  
      position: relative;  
      z-index: 1;  
    }  
    input::placeholder {  
      color: #ddd;  
      font-weight: 400;  
    }  
    input:focus {  
      box-shadow: 0 0 16px #e100ff;  
      background: rgba(255,255,255,0.25);  
    }  

    /* Animated underline */  
    input:focus {  
      animation: underline-fadein 0.4s forwards;  
    }  

    @keyframes underline-fadein {  
      0% {  
        box-shadow: inset 0 0 6px rgba(255,255,255,0.2);  
      }  
      100% {  
        box-shadow: inset 0 -3px 8px #e100ff;  
      }  
    }  

    button {  
      width: 100%;  
      padding: 14px 0;  
      font-size: 17px;  
      font-weight: 700;  
      border: none;  
      border-radius: 12px;  
      background: linear-gradient(90deg, #7f00ff, #e100ff);  
      color: white;  
      cursor: pointer;  
      text-transform: uppercase;  
      letter-spacing: 1.2px;  
      box-shadow: 0 0 25px #e100ff;  
      transition: background 0.3s ease, box-shadow 0.3s ease;  
      position: relative;  
      overflow: hidden;  
      user-select: none;  
    }  
    button:hover {  
      background: linear-gradient(90deg, #a633ff, #ff00ff);  
      box-shadow: 0 0 40px #ff00ff;  
    }  
    button:active {  
      transform: scale(0.97);  
    }  

    /* Ripple effect */  
    button::after {  
      content: "";  
      position: absolute;  
      background: rgba(255, 255, 255, 0.3);  
      border-radius: 50%;  
      transform: scale(0);  
      opacity: 0;  
      pointer-events: none;  
      transition: transform 0.5s, opacity 1s;  
      width: 100px;  
      height: 100px;  
      top: 50%;  
      left: 50%;  
      transform-origin: center;  
      transform: translate(-50%, -50%) scale(0);  
    }  
    button:focus::after,  
    button:active::after {  
      transform: translate(-50%, -50%) scale(1);  
      opacity: 1;  
      transition: transform 0.3s, opacity 0.6s;  
    }  

    .result {  
      margin-top: 24px;  
      background: rgba(0,0,0,0.15);  
      padding: 20px 24px;  
      border-radius: 14px;  
      box-shadow: inset 0 0 14px rgba(255,255,255,0.25);  
      font-size: 16px;  
      min-height: 100px;  
      line-height: 1.5;  
      user-select: text;  
      color: #ffebff;  
      text-align: left;  
      font-weight: 600;  
      position: relative;  
      overflow-wrap: break-word;  
      white-space: pre-line;  
    }  

    .result p {  
      margin: 10px 0;  
      display: flex;  
      align-items: center;  
      gap: 10px;  
    }  

    .result p strong {  
      min-width: 100px;  
      color: #ff99ff;  
    }  

    .error {  
      color: #ff6b6b !important;  
      font-weight: 700;  
      text-align: center;  
      user-select: none;  
    }  

    /* Typing animation for results */  
    @keyframes typing {  
      from { width: 0 }  
      to { width: 100% }  
    }  
    @keyframes blinkCaret {  
      0%, 100% { border-color: transparent }  
      50% { border-color: #ff99ff; }  
    }  

    .typing-effect {  
      border-right: 2px solid #ff99ff;  
      white-space: nowrap;  
      overflow: hidden;  
      display: inline-block;  
      animation: typing 1.5s steps(40, end), blinkCaret 0.75s step-end infinite;  
      max-width: 100%;  
    }

  </style>  
</head>  
<body>  
  <div class="card" role="main" aria-label="Operator Lookup Tool">  
    <h2>üì≤ Operator Lookup</h2>  
    <input  
      type="text"  
      id="number"  
      placeholder="Enter MSISDN (e.g. 923001234567)"  
      aria-label="Phone number input"  
      pattern="9[0-9]{11}"  
      title="Please enter a valid 12-digit Pakistan mobile number starting with 9"  
      autocomplete="off"  
      spellcheck="false"  
    />  
    <button onclick="lookup()" aria-label="Search operator">Search</button>  
    <div class="result" id="result" aria-live="polite" aria-atomic="true"></div>  
  </div>  
  <script>  
    async function typeText(element, text, delay = 30) {  
      element.textContent = '';  
      for (let i = 0; i < text.length; i++) {  
        element.textContent += text[i];  
        await new Promise(r => setTimeout(r, delay));  
      }  
    }  

    async function lookup() {  
      const msisdnInput = document.getElementById('number');  
      const msisdn = msisdnInput.value.trim();  
      const resultDiv = document.getElementById('result');  
      resultDiv.textContent = '‚åõ Checking...';  

      if (!/^9\d{11}$/.test(msisdn)) {  
        resultDiv.innerHTML = "<p class='error'>‚ùå ÿ®ÿ±ÿß€Å ⁄©ÿ±ŸÖ ÿØÿ±ÿ≥ÿ™ ŸÜŸÖÿ®ÿ± ÿØÿ±ÿ¨ ⁄©ÿ±€å⁄∫ (ŸÖÿ´ŸÑÿßŸã 923001234567)</p>";  
        return;  
      }  

      const query = {  
        variables: { input: { msisdns: msisdn } },  
        operationName: "OperatorLookup",  
        query: `  
          mutation OperatorLookup($input: OperatorLookupInput!) {  
            availability {  
              operatorLookup(input: $input) {  
                operators {  
                  operator {  
                    name  
                    countryId  
                    logoUrl  
                  }  
                }  
              }  
            }  
          }  
        `  
      };  

      try {  
        const res = await fetch("https://prod-mp.rebtel.com/graphql", {  
          method: "POST",  
          headers: {  
            "Content-Type": "application/json",  
            "Authorization": "application 7443a5f6-01a7-4ce7-8e87-c36212fad4f5",  
            "Origin": "https://www.rebtel.com"  
          },  
          body: JSON.stringify(query)  
        });  

        const data = await res.json();  
        const operator = data?.data?.availability?.operatorLookup?.operators?.[0]?.operator;  

        if (operator) {  
          const now = new Date().toLocaleString('en-PK', { timeZone: 'Asia/Karachi' });  
          const text = `üì° Operator: ${operator.name}\nüåç Country: ${operator.countryId}\nüïí Time: ${now}\nüë®‚Äçüíª Developer: @CYBEREXPERTPK`;  
          await typeText(resultDiv, text, 40);  
        } else {  
          resultDiv.innerHTML = "<p class='error'>‚ùå Invalid or unsupported number</p>";  
        }  
      } catch (error) {  
        resultDiv.innerHTML = "<p class='error'>‚ùå ⁄©Ÿàÿ¶€å ŸÖÿ≥ÿ¶ŸÑ€Å Ÿæ€åÿ¥ ÿ¢⁄Ø€åÿß €Å€íÿå ÿØŸàÿ®ÿßÿ±€Å ⁄©Ÿàÿ¥ÿ¥ ⁄©ÿ±€å⁄∫€î</p>";  
        console.error(error);  
      }  
    }  
  </script>  
</body>  
</html>
